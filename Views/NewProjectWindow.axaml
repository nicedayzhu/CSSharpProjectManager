<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="using:CSSharpProjectManager.ViewModels"
        xmlns:converters="using:CSSharpProjectManager.Converters"
        mc:Ignorable="d"
        x:Class="CSSharpProjectManager.Views.NewProjectWindow"
        x:DataType="vm:NewProjectViewModel"
        Title="创建 CounterStrikeSharp 项目"
        Width="700" Height="500"
        WindowStartupLocation="CenterOwner">
    
    <Border Classes="card" Margin="20">
        <Grid RowDefinitions="Auto,*,Auto" ColumnDefinitions="*,*" Margin="10">
            <!-- 标题 -->
            <TextBlock Text="创建新 CounterStrikeSharp 项目" 
                       FontSize="20" 
                       Classes="neon"
                       Grid.ColumnSpan="2"
                       Margin="0,0,0,20"/>
            
            <!-- 基本信息 -->
            <StackPanel Grid.Row="1" Grid.Column="0" Spacing="15" Margin="0,0,10,0">
                <StackPanel Spacing="5">
                    <TextBlock Text="项目名称"/>
                    <TextBox Text="{Binding ProjectName, Mode=TwoWay}" 
                             Watermark="输入项目名称"/>
                </StackPanel>
                
                <StackPanel Spacing="5">
                    <TextBlock Text="项目路径"/>
                    <TextBox Text="{Binding ProjectPath, Mode=OneWay}" 
                             IsReadOnly="True"
                             Foreground="#a0a0a0"
                             Watermark="路径将自动生成"/>
                </StackPanel>
                
                <CheckBox Content="包含 GitHub 集成 (--g)"
                          IsChecked="{Binding IncludeGitHubIntegration}"/>
            </StackPanel>
            
            <!-- 模板选择 -->
            <Border Grid.Row="1" Grid.Column="1" 
                    BorderBrush="#334466" 
                    BorderThickness="1" 
                    CornerRadius="5"
                    Padding="10"
                    Margin="10,0,0,0">
                <StackPanel Spacing="10">
                    <TextBlock Text="选择模板类型" FontWeight="Bold"/>
                    
                    <RadioButton Content="Default - 基础插件模板"
                                 IsChecked="{Binding SelectedTemplate, Converter={StaticResource EnumToBooleanConverter}, 
                                ConverterParameter={x:Static vm:NewProjectViewModel+TemplateType.Default}}"/>
                    
                    <RadioButton Content="Config - 包含配置的插件"
                                 IsChecked="{Binding SelectedTemplate, Converter={StaticResource EnumToBooleanConverter}, 
                                ConverterParameter={x:Static vm:NewProjectViewModel+TemplateType.Config}}"/>
                    
                    <RadioButton Content="Lang - 包含多语言的插件"
                                 IsChecked="{Binding SelectedTemplate, Converter={StaticResource EnumToBooleanConverter}, 
                                                     ConverterParameter={x:Static vm:NewProjectViewModel+TemplateType.Lang}}"/>
                    
                    <RadioButton Content="ConfigLang - 包含配置和多语言的插件"
                                 IsChecked="{Binding SelectedTemplate, Converter={StaticResource EnumToBooleanConverter}, 
                                                     ConverterParameter={x:Static vm:NewProjectViewModel+TemplateType.ConfigLang}}"/>
                    
                    <RadioButton Content="DataMySql - 包含MySQL数据库的插件"
                                 IsChecked="{Binding SelectedTemplate, Converter={StaticResource EnumToBooleanConverter}, 
                                                     ConverterParameter={x:Static vm:NewProjectViewModel+TemplateType.DataMySql}}"/>
                    
                    <!-- 模板描述 -->
                    <Border Background="#1e1e2e" CornerRadius="5" Padding="15" Margin="0,15">
                        <TextBlock Text="{Binding SelectedTemplate, Converter={StaticResource TemplateDescriptionConverter}}"
                                   TextWrapping="Wrap"
                                   Foreground="#e0e0e0"
                                   FontSize="14"/>
                    </Border>
                </StackPanel>
            </Border>
            
            <!-- 操作按钮 -->
            <StackPanel Grid.Row="2" Grid.ColumnSpan="2" 
                        Orientation="Horizontal" 
                        Spacing="10" 
                        HorizontalAlignment="Right"
                        Margin="0,20,0,0">
                <Button Content="取消" 
                        Command="{Binding CancelCommand}" 
                        Width="100"/>
                <Button Content="创建项目" 
                        Command="{Binding CreateProjectCommand}" 
                        Width="150"
                        Classes="primary"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>